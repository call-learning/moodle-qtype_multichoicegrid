{"version":3,"sources":["../src/maximise-document.js"],"names":["getHtmlElementSize","elid","prop","el","document","getElementById","val","getStyle","getComputedStyle","parseInt","isNaN","resizeObjectHeight","obj","style","display","headerheight","footerheight","newheight","Y","one","get","height","documentid","window","addEventListener"],"mappings":"4JAuBMA,CAAAA,CAAkB,CAAG,SAACC,CAAD,CAAOC,CAAP,CAAgB,CACvC,GAAMC,CAAAA,CAAE,CAAGC,QAAQ,CAACC,cAAT,CAAwBJ,CAAxB,CAAX,CAEA,GAAIE,CAAJ,CAAQ,CACJ,GAAIG,CAAAA,CAAG,CAAGH,CAAE,CAACI,QAAH,CAAYL,CAAZ,CAAV,CACA,GAAY,MAAR,GAAAI,CAAJ,CAAoB,CAChBA,CAAG,CAAGH,CAAE,CAACK,gBAAH,CAAoBN,CAApB,CACT,CACDI,CAAG,CAAGG,QAAQ,CAACH,CAAD,CAAd,CACA,GAAII,KAAK,CAACJ,CAAD,CAAT,CAAgB,CACZ,MAAO,EACV,CACD,MAAOA,CAAAA,CACV,CAVD,IAUO,CACH,MAAO,EACV,CACJ,C,CAEKK,CAAkB,CAAG,SAACC,CAAD,CAAS,CAChCA,CAAG,CAACC,KAAJ,CAAUC,OAAV,CAAoB,MAApB,CADgC,GAE5BC,CAAAA,CAAY,CAAGf,CAAkB,CAAC,cAAD,CAAiB,QAAjB,CAFL,CAG5BgB,CAAY,CAAGhB,CAAkB,CAAC,cAAD,CAAiB,QAAjB,CAHL,CAI5BiB,CAAS,CAAGR,QAAQ,CAACS,CAAC,CAACC,GAAF,CAAM,MAAN,EAAcC,GAAd,CAAkB,WAAlB,CAAD,CAAR,CAA2CJ,CAA3C,CAA0DD,CAA1D,CAAyE,GAJzD,CAKhC,GAAgB,GAAZ,CAAAE,CAAJ,CAAqB,CACjBA,CAAS,CAAG,GACf,CACDL,CAAG,CAACC,KAAJ,CAAUQ,MAAV,CAAoBJ,CAAS,CAAG,IAAhC,CACAL,CAAG,CAACC,KAAJ,CAAUC,OAAV,CAAoB,EACvB,C,WAGc,SAACQ,CAAD,CAAgB,CAC3B,GAAMV,CAAAA,CAAG,CAAGR,QAAQ,CAACC,cAAT,CAAwBiB,CAAxB,CAAZ,CACAX,CAAkB,CAACC,CAAD,CAAlB,CAEAW,MAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkC,UAAM,CACpCb,CAAkB,CAACC,CAAD,CACrB,CAFD,CAGH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Maximise a document height\n *\n * Inspired from M.util.init_maximised_embed\n * @module     qtype_multichoicegrid/maximise-document.js\n * @copyright   2021 Laurent David <laurent@call-learning.fr>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nconst getHtmlElementSize = (elid, prop) => {\n    const el = document.getElementById(elid);\n    // Ensure element exists.\n    if (el) {\n        let val = el.getStyle(prop);\n        if (val === 'auto') {\n            val = el.getComputedStyle(prop);\n        }\n        val = parseInt(val);\n        if (isNaN(val)) {\n            return 0;\n        }\n        return val;\n    } else {\n        return 0;\n    }\n};\n\nconst resizeObjectHeight = (obj) => {\n    obj.style.display = 'none';\n    var headerheight = getHtmlElementSize('#page-header', 'height');\n    var footerheight = getHtmlElementSize('#page-footer', 'height');\n    var newheight = parseInt(Y.one('body').get('docHeight')) - footerheight - headerheight - 100;\n    if (newheight < 400) {\n        newheight = 400;\n    }\n    obj.style.height =  newheight + 'px';\n    obj.style.display = '';\n};\n\n\nexport default (documentid) => {\n    const obj = document.getElementById(documentid);\n    resizeObjectHeight(obj);\n    // Fix layout if window resized too.\n    window.addEventListener('resize', () => {\n        resizeObjectHeight(obj);\n    });\n};"],"file":"maximise-document.min.js"}